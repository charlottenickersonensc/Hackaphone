{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{Card,CardContent,CardMedia,Typography,CardActionArea,CardActions,Button,Chip}from'@mui/material';import PlayArrowIcon from'@mui/icons-material/PlayArrow';import StopIcon from'@mui/icons-material/Stop';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VisualizationCard=_ref=>{let{visualization,status}=_ref;const navigate=useNavigate();const isRunning=status[visualization.id]==='running';// Fonction pour démarrer une visualisation\nconst handleStart=async e=>{e.stopPropagation();// Éviter la navigation lors du clic sur le bouton\ntry{await axios.post(`/api/start/${visualization.id}`);// La mise à jour du statut se fera via le polling dans App.js\n}catch(error){var _error$response,_error$response$data;console.error(`Erreur lors du démarrage de la visualisation ${visualization.id}:`,error);alert(`Erreur lors du démarrage de la visualisation: ${((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message}`);}};// Fonction pour arrêter une visualisation\nconst handleStop=async e=>{e.stopPropagation();// Éviter la navigation lors du clic sur le bouton\ntry{await axios.post(`/api/stop/${visualization.id}`);// La mise à jour du statut se fera via le polling dans App.js\n}catch(error){var _error$response2,_error$response2$data;console.error(`Erreur lors de l'arrêt de la visualisation ${visualization.id}:`,error);alert(`Erreur lors de l'arrêt de la visualisation: ${((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message}`);}};// Génère une image de prévisualisation basée sur l'ID (pour démonstration)\n// Dans un environnement réel, vous pourriez stocker des images réelles pour chaque visualisation\nconst getImageUrl=id=>{return`https://picsum.photos/seed/${id}/400/300`;};return/*#__PURE__*/_jsxs(Card,{className:\"visualization-card\",children:[/*#__PURE__*/_jsxs(CardActionArea,{onClick:()=>navigate(`/visualizer/${visualization.id}`),children:[/*#__PURE__*/_jsx(CardMedia,{component:\"div\",sx:{height:200,backgroundImage:`url(${getImageUrl(visualization.id)})`,backgroundColor:'#303030',position:'relative'},children:/*#__PURE__*/_jsx(\"div\",{className:`status-indicator ${isRunning?'status-running':'status-stopped'}`})}),/*#__PURE__*/_jsxs(CardContent,{className:\"visualization-card-content\",children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:visualization.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:visualization.description||\"Aucune description disponible.\"}),/*#__PURE__*/_jsx(Chip,{label:isRunning?\"En cours d'exécution\":\"Arrêté\",color:isRunning?\"success\":\"error\",size:\"small\",sx:{mt:2}})]})]}),/*#__PURE__*/_jsxs(CardActions,{children:[!isRunning?/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"primary\",startIcon:/*#__PURE__*/_jsx(PlayArrowIcon,{}),onClick:handleStart,children:\"D\\xE9marrer\"}):/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"error\",startIcon:/*#__PURE__*/_jsx(StopIcon,{}),onClick:handleStop,children:\"Arr\\xEAter\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",onClick:()=>navigate(`/visualizer/${visualization.id}`),children:\"D\\xE9tails\"})]})]});};export default VisualizationCard;","map":{"version":3,"names":["React","useNavigate","axios","Card","CardContent","CardMedia","Typography","CardActionArea","CardActions","Button","Chip","PlayArrowIcon","StopIcon","jsx","_jsx","jsxs","_jsxs","VisualizationCard","_ref","visualization","status","navigate","isRunning","id","handleStart","e","stopPropagation","post","error","_error$response","_error$response$data","console","alert","response","data","message","handleStop","_error$response2","_error$response2$data","getImageUrl","className","children","onClick","component","sx","height","backgroundImage","backgroundColor","position","gutterBottom","variant","name","color","description","label","size","mt","startIcon"],"sources":["/Users/charlottenickerson/introprogrammationcsharp/musicproject/sadnessnewgit/Hackaphone/interface_web/frontend/src/components/VisualizationCard.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { \n  Card, \n  CardContent, \n  CardMedia, \n  Typography, \n  CardActionArea, \n  CardActions, \n  Button, \n  Chip \n} from '@mui/material';\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\nimport StopIcon from '@mui/icons-material/Stop';\n\nconst VisualizationCard = ({ visualization, status }) => {\n  const navigate = useNavigate();\n  const isRunning = status[visualization.id] === 'running';\n  \n  // Fonction pour démarrer une visualisation\n  const handleStart = async (e) => {\n    e.stopPropagation(); // Éviter la navigation lors du clic sur le bouton\n    \n    try {\n      await axios.post(`/api/start/${visualization.id}`);\n      // La mise à jour du statut se fera via le polling dans App.js\n    } catch (error) {\n      console.error(`Erreur lors du démarrage de la visualisation ${visualization.id}:`, error);\n      alert(`Erreur lors du démarrage de la visualisation: ${error.response?.data?.message || error.message}`);\n    }\n  };\n  \n  // Fonction pour arrêter une visualisation\n  const handleStop = async (e) => {\n    e.stopPropagation(); // Éviter la navigation lors du clic sur le bouton\n    \n    try {\n      await axios.post(`/api/stop/${visualization.id}`);\n      // La mise à jour du statut se fera via le polling dans App.js\n    } catch (error) {\n      console.error(`Erreur lors de l'arrêt de la visualisation ${visualization.id}:`, error);\n      alert(`Erreur lors de l'arrêt de la visualisation: ${error.response?.data?.message || error.message}`);\n    }\n  };\n  \n  // Génère une image de prévisualisation basée sur l'ID (pour démonstration)\n  // Dans un environnement réel, vous pourriez stocker des images réelles pour chaque visualisation\n  const getImageUrl = (id) => {\n    return `https://picsum.photos/seed/${id}/400/300`;\n  };\n  \n  return (\n    <Card className=\"visualization-card\">\n      <CardActionArea onClick={() => navigate(`/visualizer/${visualization.id}`)}>\n        <CardMedia\n          component=\"div\"\n          sx={{\n            height: 200,\n            backgroundImage: `url(${getImageUrl(visualization.id)})`,\n            backgroundColor: '#303030',\n            position: 'relative',\n          }}\n        >\n          <div \n            className={`status-indicator ${isRunning ? 'status-running' : 'status-stopped'}`}\n          />\n        </CardMedia>\n        <CardContent className=\"visualization-card-content\">\n          <Typography gutterBottom variant=\"h5\" component=\"div\">\n            {visualization.name}\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {visualization.description || \"Aucune description disponible.\"}\n          </Typography>\n          <Chip \n            label={isRunning ? \"En cours d'exécution\" : \"Arrêté\"} \n            color={isRunning ? \"success\" : \"error\"} \n            size=\"small\" \n            sx={{ mt: 2 }} \n          />\n        </CardContent>\n      </CardActionArea>\n      <CardActions>\n        {!isRunning ? (\n          <Button \n            size=\"small\" \n            color=\"primary\" \n            startIcon={<PlayArrowIcon />} \n            onClick={handleStart}\n          >\n            Démarrer\n          </Button>\n        ) : (\n          <Button \n            size=\"small\" \n            color=\"error\" \n            startIcon={<StopIcon />} \n            onClick={handleStop}\n          >\n            Arrêter\n          </Button>\n        )}\n        <Button size=\"small\" onClick={() => navigate(`/visualizer/${visualization.id}`)}>\n          Détails\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default VisualizationCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}